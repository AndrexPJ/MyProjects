<html>
	<head>
		<title>Task</title>
		<meta charset="utf8">
	    <style>
	      .simple_td {
	      	width: 10px;
	        padding: 0.2em;
	      }
	      .notsimple_td{
	      	width: 10px;
	        padding: 0.2em;
	        border: 2px solid red;
	      }
	      input{
	      	width: 30px;
	      }
	    </style>



	</head>
	<body onload="insertRows(4,9)">

		<script type="text/javascript">

		var we = 9;
 		var he = 0;

 		function insertRows(r,c){
 			he =  he + r;
			var table = document.getElementById('mtable');

			for (var  j = 0; j < r; j++) {

				var new_tr = document.createElement('tr');
				new_tr.setAttribute("name", "table_tr");
				for(var i = 0; i < c; i++){
					var temp = document.createElement('td');
					temp.setAttribute("class", "simple_td");
					temp.setAttribute("name", "table_td");
					temp.innerHTML = "<input>";
					new_tr.appendChild(temp);
				}
				table.appendChild(new_tr);
			}

 		}

 		function changeElementClass(i,j,w,elements){
 			var pos = i * w + j;
 			elements[pos].setAttribute("class","notsimple_td");
 		}

 		function changeDefaultClass(i,j,w,elements){
 			var pos = i * w + j;
 			elements[pos].setAttribute("class","simple_td");
 		}

 		function getElements(){
 			var table = document.getElementById('mtable');

 			var elements = document.getElementsByName('table_td');

			return elements; 		
 		}

 		function getElementsValues(w,h,elements){

 			var values = new Array();
 			for(var i = 0; i < h; i++){
 				values[i] = new Array()
 				for(var j = 0; j< w; j++){
 					var tmp = elements[i * w + j].getElementsByTagName('input')[0].value;

 					if(tmp == "" || tmp == undefined){
 						values[i][j] = -1;
 					}
 					else {
 						values[i][j] = parseInt(tmp); 
 						if(values[i][j] == NaN) values[i][j] = -1;
 					}
 				}
 			}
 			return values;
 		} 

 		function check(a,b){
 			if( (a == -1) || (b == -1)) return false;
 			if( a == b ) return true;
 			if( (a+b) == 10) return true;
 			return false; 
 		}

 		function find_ne(y,x,w,h,values){
 			var ne_ij = new Array();
 			var begj = x+1;
 			var begi = y;
 			if ((x+1) == w){
 				begj = 0;
 				begi = y+1;
 			} 
 			var fl = 0;
 			for (var i = begi ; i < h ; i++){
 				for (var j = begj; j < w; j++){
 					if(values[i][j] != -1){
 						fl = 1;
 						ne_ij.push([i,j]);
 						break;
 					}	
 				}
 				begj = 0;
 				if(fl == 1) break;
 				
 			}

 			
 			for (var i = (y + 1) ; i < h ; i++){
 					if(values[i][x] != -1){
 						ne_ij.push([i,x]);
 						break;
 					}
 				}
 			
 			return ne_ij;
 		}

 		function valuesProcess(w,h,values){
 			for (var i = 0 ; i < h ; i++){
 				for (var j = 0; j < w; j++){
 					var ne = find_ne(i,j,w,h,values);
	 				for(var c = 0; c < ne.length ; c++){
	 						y = ne[c][0];
	 						x = ne[c][1];
	 						//alert([y,x]);
	 						if(check(values[y][x],values[i][j])) {
	 							return [[i,j],[y,x]]
	 						}
	 						
	 					}
 				}
 			}
 			return [];
 		}

 		function check_tr(tr){
 			var tds = tr.getElementsByTagName('td');
 				for(var j = 0; j< tds.length; j++){
 					var input = tds[j].getElementsByTagName('input')[0];
 					if((input.value != '') && (input.value != undefined)) return true;
 				}
 				return false;


 		}
 		function check_table(){
 			var table = document.getElementById('mtable');
 			var trs = document.getElementsByName('table_tr');

 			for(var i = 0; i< trs.length; i++){
 				if(!check_tr(trs[i])) { table.removeChild(trs[i])};
 			}


 		}

 		var y1 = 0;
 		var x1 = 0;


 		var y2 = 0;
 		var x2 = 0;

 		function taskProcess(){
 			
 			var elements = getElements();
 			//alert([we,he]);
 			var values = getElementsValues(we,he,elements);



 			changeDefaultClass(y1,x1,we,elements);
 			changeDefaultClass(y2,x2,we,elements);

 			var val = valuesProcess(we,he,values);
 			if(val.length > 0){
 				y1 = val[0][0];
 				x1 = val[0][1];


 				y2 = val[1][0];
 				x2 = val[1][1];

 				changeElementClass(y1,x1,we,elements); 			
 				changeElementClass(y2,x2,we,elements);
 			}
 			 //check_table();
 		}

		</script>


		<table id = "mtable">
		</table>
		<button onclick="insertRows(4,9)">Добавить поля</button>
		<button onclick="taskProcess()"> Подсказка </button>
	

	</body>
</html>